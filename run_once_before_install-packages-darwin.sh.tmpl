#!/bin/bash
{{ if eq .chezmoi.os "darwin" -}}

echo "ðŸŽ Installing macOS packages..."

# Install Homebrew if not installed
if ! command -v brew &> /dev/null; then
    echo "ðŸ“¦ Installing Homebrew..."
    /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
fi

# Add Homebrew to PATH for this session
eval "$(/opt/homebrew/bin/brew shellenv)"

# Taps  
brew tap nikitabobko/tap

# Formulas
brew install \
    neovim \
    starship \
    zoxide \
    fzf \
    ripgrep \
    eza \
    bat \
    btop \
    jq \
    gh \
    node \
    fnm \
    ariga/tap/atlas

# Casks
brew install --cask \
    nikitabobko/tap/aerospace \
    ghostty \
    raycast \
    stats \
    font-jetbrains-mono-nerd-font \
    font-hack-nerd-font \
    font-fira-code-nerd-font \
    sf-symbols

echo "âœ… Package installation complete!"
{{ end -}}
